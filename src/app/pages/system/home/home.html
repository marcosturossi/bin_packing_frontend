<div class="home-main" [class.expanded]="visualizerExpanded">
	<div class="panel" *ngIf="!visualizerExpanded">
		<app-home-controls
			[items]="items"
			[vehicle]="vehicle"
			(addItem)="addItem($event)"
			(selectVehicle)="selectVehicle($event)"
			(removeItem)="removeItem($event)"
			(send)="sendCargo()"
		></app-home-controls>
	</div>

	<div class="results-col">
		<app-home-results (toggleExpand)="toggleVisualizer()" [response]="(response$ | async)" [vehicle]="vehicle"></app-home-results>
	</div>
</div>

<!-- Fullscreen overlay for visualizer when expanded -->
<div *ngIf="visualizerExpanded" class="visualizer-overlay">
	<div class="overlay-toolbar">
		<button pButton class="p-button-text" (click)="toggleVisualizer()">Fechar</button>
	</div>
	<div class="overlay-content">
		<app-cargo-view [cargo]="(response$ | async)" [vehicle]="vehicle"></app-cargo-view>
	</div>
</div>