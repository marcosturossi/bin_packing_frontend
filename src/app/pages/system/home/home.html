<app-create-item (outputEvent)="addItem($event)"></app-create-item>
<app-select-vehicle (outputEvent)="selectVehicle($event)"></app-select-vehicle>

<div class="mt-3">
	<div *ngIf="vehicle">
		<strong>Veículo selecionado:</strong>
		<span>{{ vehicle }}</span>
	</div>

	<div *ngIf="items?.length">
		<strong>Itens ({{ items.length }}):</strong>
		<ul>
			<li *ngFor="let it of items; let i = index">
				{{ it }} — {{ it.weight }}
				<button pButton type="button" class="p-button-text ms-2" (click)="removeItem(i)">Remover</button>
			</li>
		</ul>
	</div>

	<p-button (click)="sendCargo()" label="Enviar" [disabled]="!vehicle || items.length === 0"></p-button>
</div>

<div *ngIf="response$ | async as response" class="mt-4">
	<strong>Resposta do backend:</strong>
	<app-cargo-view [cargo]="response" [vehicle]="vehicle"></app-cargo-view>
	<pre class="mt-3">{{ response | json }}</pre>
</div>